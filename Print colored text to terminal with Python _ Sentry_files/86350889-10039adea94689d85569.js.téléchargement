"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9676],{42271:function(e,t,r){r.d(t,{Ut:function(){return F},gz:function(){return P}});var a=r(39850),n=r(98158),i=r(86207),l=r(89575),o=r(71209),u=r(14041),s=r(49782),d=r(61253),c=r(50708),m=(r(75643),r(61337)),p=r(92287),b=r(15428),f=r(21249),h=r(27897),g=r(68152),Y=r(10626),A=r(59595),x=r(73364),y=r(7670),v=r(80982),w=r(26053),k=r(60244),S=r(64649),L=r(89897),T=r.n(L),O=r(65325);const D=["label"];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const E=e=>{let{rows:t,form:r}=e;return t.map((e=>{const t=e.map((e=>{let{id:t}=e;return t})).join(":");return(0,b.Y)(q,{key:t,fields:e,form:r})}))},q=e=>{let{fields:t,form:r}=e;return(0,b.Y)(R,null,t.map((e=>(0,b.Y)(C,(0,l.A)({form:r,key:e.id},e)))))},C=e=>{const{register:t}=e.form;let r=e.id;switch(e.dataType){case"htmltext":r=(0,b.Y)(g.A,e);break;case"fieldset":return(0,b.Y)(j,{as:"fieldset"},(0,b.Y)("legend",null,e.label),(0,b.Y)(E,{rows:e.fieldRows,form:e.form}));case"text":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"text",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{maxLength:e.maxLength,ref:t({maxLength:e.maxLength})}))}));case"textArea":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("textarea",(0,l.A)({id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{maxLength:e.maxLength,rows:e.fieldMetaData&&e.fieldMetaData.visibleLines,ref:t({required:e.required,maxLength:e.maxLength})}))}));case"number":case"currency":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"number",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{ref:t(_({required:e.required},e.fieldMetaData&&{min:e.fieldMetaData.minValue,max:e.fieldMetaData.maxValue}))}))}));case"date":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"date",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText,maxLength:e.maxLength},a,{ref:t({required:e.required})}))}));case"telephone":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"tel",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{ref:t({required:e.required})}))}));case"email":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"email",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},_(_({},a),{},{"aria-describedby":a["aria-labelledby"]}),{ref:t({required:e.required})}))}));case"url":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("input",(0,l.A)({type:"url",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{ref:t({required:e.required})}))}));case"hidden":return(0,b.Y)("input",{type:"hidden",name:e.id,ref:t});case"checkbox":{const{label:r}=e,n=(0,a.A)(e,D);return(0,b.Y)(H,n,(r=>{let{ariaProps:a}=r;return(0,b.Y)("label",{className:"checkbox-input"},(0,b.Y)("input",(0,l.A)({type:"checkbox",id:e.id,name:e.id,title:e.instructions},a,{ref:t({required:e.required})})),(0,b.Y)("span",{role:"button",tabIndex:"0",dangerouslySetInnerHTML:{__html:`${T().sanitize(e.label,{ALLOWED_TAGS:["b","i","em","strong","a"]})}${e.required?"*":""}`}}))}))}case"checkboxes":return(0,b.Y)(H,e,(r=>{let{options:a}=r;return e.fieldMetaData.values.map(((r,n)=>(0,b.Y)("label",{key:r.id,id:a[r.value].idForLabel,className:"checkbox-input"},(0,b.Y)("input",(0,l.A)({type:"checkbox",id:r.id,name:e.id,title:e.instructions},a[r.value].ariaProps,{value:r.value,ref:t(_({},0===n&&{required:e.required}))})),(0,b.Y)("span",{role:"button",tabIndex:"0",dangerouslySetInnerHTML:{__html:T().sanitize(r.label,{ALLOWED_TAGS:["b","i","em","strong","a"]})}}))))}));case"radioButtons":return(0,b.Y)(H,e,(r=>{let{options:a}=r;return e.fieldMetaData.values.map((r=>(0,b.Y)("label",{key:r.id,id:a[r.value].idForLabel,className:"radio-input"},(0,b.Y)("input",(0,l.A)({type:"radio",id:r.id,name:e.id,title:e.instructions},a[r.value].ariaProps,{value:r.value,ref:t({required:e.required})})),(0,b.Y)("span",{dangerouslySetInnerHTML:{__html:T().sanitize(r.label)}}))))}));case"select":return(0,b.Y)(H,e,(r=>{let{ariaProps:a}=r;return(0,b.Y)("select",(0,l.A)({type:"url",id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},a,{multiple:e.fieldMetaData.multiSelect,ref:t({required:e.required})}),e.fieldMetaData.values.map((e=>(0,b.Y)("option",{key:e.value,value:e.value},e.label))))}));case"slider":{const{fieldMetaData:r={}}=e,{minValue:a=0,maxValue:n=100}=r;e.form.watch(e.id);const{getValues:i}=e.form,o=i()[e.id],s=parseFloat(o),d=parseFloat(a),c=(s-d)/(parseFloat(n)-d);return(0,b.Y)(H,e,(r=>{let{ariaProps:i}=r;return(0,b.Y)(u.Fragment,null,(0,b.Y)(Y.A,(0,l.A)({id:e.id,name:e.id,title:e.instructions,placeholder:e.hintText},i,{min:a,max:n,htmlRef:t({required:e.required,min:a,max:n}),toolTip:o,progress:c})))}))}case null:return v.wd('A Marketo form contains an unimplemented field type "Double"'),null;default:return v.wd(`A Marketo Form contains an unimplemented type "${e.dataType}"`),null}return(0,b.Y)(j,null,r)},P=e=>{let{children:t}=e;return(0,b.Y)(B,{as:w.A,xs:"center",disableHeadingSpace:!0},(0,b.Y)(F,null),t||(0,b.Y)(u.Fragment,null,(0,b.Y)("h3",null,"It happened"),(0,b.Y)("p",null,"We have successfully received your form submission and will take it from here. You have a great rest of your day.")))};var I={name:"o9ww1u",styles:"opacity:0.5"};const N=(0,o.A)("form",{target:"e15sbrx56"})("legend{font-size:1.25rem;font-weight:bold;}",(e=>e.hasSubmit&&I),";"),R=(0,o.A)("div",{target:"e15sbrx55"})("margin-left:-0.5rem;margin-right:-0.5rem;",(0,d.Rc)("md"),"{display:flex;flex-direction:row;}"),j=(0,o.A)("div",{target:"e15sbrx54"})("flex-basis:0;flex-grow:1;padding-left:0.5rem;padding-right:0.5rem;margin-bottom:1rem;",R,":last-of-type &{margin-bottom:0;}"),H=(0,o.A)(h.Ay,{target:"e15sbrx53"})("flex-basis:0;flex-grow:1;padding-left:0.5rem;padding-right:0.5rem;margin-bottom:0.5rem;",R,":last-of-type &{margin-bottom:0;}"),V=(0,o.A)("div",{target:"e15sbrx52"})("background-color:",c.white,";padding:1rem;border-radius:",p.borderRadius,";",(0,d.Rc)("md"),"{padding:1.5rem;}"),B=(0,o.A)(k.nO,{target:"e15sbrx51"})({name:"1dvcxr3",styles:"padding:1rem"}),F=(0,o.A)("div",{target:"e15sbrx50"})("height:8rem;width:8rem;margin:0 auto 0.5rem;background-image:url(",S.A,");background-size:contain;background-repeat:no-repeat;background-position:center;animation:thumbRotation 1.5s;animation-direction:alternate;animation-timing-function:ease-in-out;animation-iteration-count:infinite;@keyframes thumbRotation{from{transform:rotate(-20deg);}to{transform:rotate(15deg);}}");t.Ay=e=>{let{data:t,redirectLink:r,successComponent:a,successContent:n,onReady:o,onSubmit:d,onSuccess:p,addToCalLink:h,className:g,bizibleExclude:Y,extraSchema:S,formContentBefore:L,buttonVariant:T,buttonChevron:D,buttonRedesign:M,buttonCTA:q}=e;t=t||{marketoId:"",buttonLabel:{buttonCTA:q}||"Submit",buttonVariant:{buttonVariant:T},buttonChevron:{buttonChevron:D},buttonRedesign:{buttonRedesign:M},marketoChildren:[]};const C=q||t.buttonLabel,{0:I,1:H}=(0,u.useState)(C),{0:B,1:F}=(0,u.useState)(!1),{0:K,1:z}=(0,u.useState)(!1),{0:W,1:G}=(0,u.useState)(!1);let $=(0,A.A)(t);S&&($=$.concat(S));const Q=(0,u.useMemo)((()=>t.marketoChildren.map((e=>{let t=(0,l.A)({},((0,i.A)(e),e));return t.fieldMetaData&&t.fieldMetaData.values&&(t.fieldMetaData.values=t.fieldMetaData.values.map((e=>_(_({},e),{},{id:`${t.id}${e.value}`})))),t}))),[t]),U=(0,u.useMemo)((()=>Q.reduce(((e,t)=>{if(null===t.defaultValue)return e;let r=t.defaultValue;if(["radioButtons","checkboxes","select"].includes(t.dataType))try{r=JSON.parse(t.defaultValue)}catch(error){v.Cp(error)}return"radioButtons"===t.dataType&&(r=r[0]),_(_({},e),{},{[t.id]:r})}),{})),[Q]),Z=(0,f.mN)({validationSchema:$,defaultValues:U}),J=(0,u.useMemo)((()=>(0,y.A)(Q)),[Q]);const X=(0,u.useCallback)((async e=>{if(d){if(!1===d({form:Z}))return}F(!0),H("One secâ€¦");try{{let a=await async function(){var e="";grecaptcha.ready((()=>{grecaptcha.execute("6LdQHE0eAAAAAG9v3SYa7KNTHbwICjsM3WxQr-3H",{action:"submit"}).then((t=>{e=t}))}));let t=0;for(;""==e&&t<300;)t++,await new Promise((e=>setTimeout(e,100)));if(""==e&&300==t)throw new error("recaptcha couldn't be contacted.");return e}();await(0,x.A)(t.marketoId,e,r,a)}G(!0),(0,O.K)(ae),H(t.buttonLabel||"Submit")}catch(error){z(!0)}p&&p()}),[d,p,t.marketoId,Z,t.buttonLabel]);(0,u.useEffect)((()=>{o&&o({form:Z,submit:Z.handleSubmit(X)})}),[o,Z,X]);const ee=t.marketoId||t.marketoChildren.length>0,{0:te,1:re}=(0,u.useState)(!1),ae="mkto_"+t.marketoId;if(!ee){if({}.VERCEL_ENV)throw new Error("marketo forms couldn't generate.");return(0,b.Y)(V,{as:w.A},(0,b.Y)("p",{css:(0,b.AH)("padding:2rem;border:2px dashed ",c.mdOrange,";border-radius:3px;color:",c.colorText,";","")},"To use Marketo forms, ensure the environment variables"," ",(0,b.Y)("code",null,"GATSBY_MARKETO_DOMAIN"),", ",(0,b.Y)("code",null,"GATSBY_MUNCHKIN_ID"),","," ",(0,b.Y)("code",null,"MARKETO_CLIENT_ID"),", and ",(0,b.Y)("code",null,"MARKETO_CLIENT_SECRET")," ","are set."))}return(0,b.Y)(V,{className:g},(()=>{switch(!0){case W:const e=a||P;return(0,b.Y)(e,null,n," ",h||null);case K:return(0,b.Y)(k.nO,{as:w.A,xs:"center",disableHeadingSpace:!0},(0,b.Y)("h3",null,"Well Sh*t"),(0,b.Y)("p",null,"Our forms are broken. We're working to fix it. In the meantime,",(0,b.Y)("a",{href:"https://forms.gle/taRi3xE5MZDBXN2Z6"},"let us know")," what you came to Sentry.io for, and we'll get you what you need."));default:return(0,b.Y)(N,{id:ae,onSubmit:Z.handleSubmit(X),hasSubmit:B,className:Y?"Bizible-Exclude":null},L,(0,b.Y)(E,{rows:J,form:Z}),(0,b.Y)(R,null,(0,b.Y)(j,null,(0,b.Y)(m.Ay,{type:"submit",className:T||"primary",redesign:M||!1,value:I||"Submit",chevron:D||null,children:I||"Submit",disabled:B}))))}})(),(0,b.Y)(s.eF,{src:"https://www.google.com/recaptcha/api.js?render=6LdQHE0eAAAAAG9v3SYa7KNTHbwICjsM3WxQr-3H"}))}}}]);